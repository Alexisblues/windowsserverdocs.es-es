---
title: Servermanagercmd
description: Tema de referencia de * * * *-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 507c4b87-8e13-4872-8b34-0c7508eecbc1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: 4b6e13a4d33a9561c23bf07555c183d0b12bd54e
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/01/2020
ms.locfileid: "82721956"
---
# <a name="servermanagercmd"></a>Servermanagercmd

> Se aplica a: Windows Server (canal semianual), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2 y Windows Server 2012

> [!IMPORTANT]
> Este comando solo está disponible en los servidores que ejecutan Windows Server 2008 o Windows Server 2008 R2. **ServerManagerCmd. exe** está en desuso y no está disponible en Windows Server 2012. Para obtener información acerca de cómo instalar o quitar roles, servicios de rol y características en Windows Server 2012, vea [instalar o desinstalar roles, servicios de rol y características](https://go.microsoft.com/fwlink/?LinkID=239563) en Microsoft TechNet.

Instala y quita roles, servicios de función y características. También muestra la lista de todas las funciones, servicios de función y características disponibles, y muestra las que están instaladas en este equipo. Para obtener información adicional acerca de los roles, servicios de función y características que puede especificar con esta herramienta, vea la [ayuda de administrador del servidor](https://go.microsoft.com/fwlink/?LinkID=137387). 

## <a name="syntax"></a>Sintaxis
```
servermanagercmd -query [[[<Drive>:]<path>]<query.xml>] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -inputpath  [[<Drive>:]<path>]<answer.xml> [-resultpath <result.xml> [-restart] | -whatif] [-logpath [[<Drive>:]<path>]<log.txt>]
servermanagercmd -install <Id> [-allSubFeatures] [-resultpath   [[<Drive>:]<path>]<result.xml> [-restart] | -whatif] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -remove <Id> [-resultpath    <result.xml> [-restart] | -whatif] [-logpath  [[<Drive>:]<path>]<log.txt>]
servermanagercmd [-help | -?]
servermanagercmd -version
```

### <a name="parameters"></a>Parámetros

|                   Parámetro                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  -Query [[[\<[unidad>:\<] ruta de\<acceso>]*query. XML*>]   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Muestra una lista de todas las funciones, servicios de función y características que están instalados y disponibles para su instalación en el servidor. También puede usar la forma abreviada de este parámetro, **-q**. Si desea guardar los resultados de la consulta en un archivo XML, especifique un archivo XML para reemplazar *query. XML*.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -inputPath < [[\<unidad>:]\<ruta de acceso>]*Answer. XML*> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Instala o quita las funciones, los servicios de función y las características especificados en un archivo de respuesta XML representado por *Answer. XML*. También puede usar la forma abreviada de este parámetro, **-p.**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                - \< *ID.* de instalación>                | Instala el rol, el servicio de función o la característica especificados por el *identificador*. Los identificadores no distinguen mayúsculas de minúsculas. Varios roles, servicios de rol y características deben estar separados por espacios. Los siguientes parámetros opcionales se usan con el parámetro **-install** .<p>-   **-Setting** \< *SettingName*>=SettingName\<*SettingValue*> especifica la configuración necesaria para la instalación.<br />-   **-allSubFeatures** Especifica la instalación de todos los servicios y características subordinados junto con el rol principal, el servicio de rol o la característica con el nombre en el valor de *identificador* . **Nota:**     Algunos contenedores de roles no tienen un identificador de línea de comandos para permitir la instalación de todos los servicios de rol. Esto sucede, por ejemplo, cuando no pueden instalarse servicios de función en la misma instancia del comando del Administrador del servidor. Por ejemplo, la Servicio de federación servicio de rol de servicios de Federación de Active Directory y el servicio de rol Proxy de Servicio de federación no se pueden instalar con la misma instancia de comando Administrador del servidor.<br />-   **-resultpath** \< *result. XML> guarda los resultados de la instalación en un archivo \*XML representado por result. XML*. También puede usar la forma abreviada de este parámetro, **-r**. **Nota:**     No se puede ejecutar **ServerManagerCmd** con el parámetro **-resultpath** y el parámetro **-Whatif** especificado.<br />-   **-reiniciar** Reinicia el equipo automáticamente cuando se completa la instalación (si los roles o las características instaladas requieren un reinicio).<br />-   **-Whatif** Muestra las operaciones especificadas para el parámetro **-install** . También puede usar la forma abreviada del parámetro **-Whatif** , **-w**. No se puede ejecutar **ServerManagerCmd** con el parámetro **-resultpath** y el parámetro **-Whatif** especificado.<br />-   **-LogPath** \<[[\<[unidad>:\<] ruta de acceso>]*log. txt*> especifica un nombre y una ubicación para el archivo de registro, que no es el valor predeterminado, **%WINDIR%\temp\servermanager.log**. |
|                -quitar \< *ID.*>                 |                                                                                                                                                                                                                                                                                                                                                                     Quita el rol, el servicio de rol o la característica especificados por el *identificador*. Los identificadores no distinguen mayúsculas de minúsculas. Varios roles, servicios de rol y características deben estar separados por espacios. Los siguientes parámetros opcionales se usan con el parámetro **-Remove** .<p>-   **-resultpath** \<[[\<unidad>:]\<ruta de acceso>]*result. XML*> guarda los resultados de la eliminación en un archivo XML representado por *result. XML*. También puede usar la forma abreviada de este parámetro, **-r**. **Nota:**     No se puede ejecutar **ServerManagerCmd** con el parámetro **-resultpath** y el parámetro **-Whatif** especificado.<br />-   **-reiniciar** Reinicia el equipo automáticamente cuando se completa la eliminación (si el reinicio es necesario para los roles o las características restantes).<br />-   **-Whatif** Muestra las operaciones especificadas para el parámetro **-Remove** . También puede usar la forma abreviada del parámetro **-Whatif** , **-w**. No se puede ejecutar **ServerManagerCmd** con el parámetro **-resultpath** y el parámetro **-Whatif** especificado.<br />-   **-LogPath**\<[[\<[unidad>:\<] ruta de acceso>]*log. txt*> especifica un nombre y una ubicación para el archivo de registro, que no es el valor predeterminado, **%WINDIR%\temp\servermanager.log**.                                                                                                                                                                                                                                                                                                                                                                      |
|                     -help                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Muestra la ayuda en la ventana del símbolo del sistema. También puede usar la forma abreviada, **-?**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    -version                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Muestra el número de versión del Administrador del servidor. También puede usar la forma abreviada, **-v**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="remarks"></a>Observaciones
**ServerManagerCmd** está en desuso y no se garantiza que se admita en versiones futuras de Windows. Se recomienda que, si ejecuta Administrador del servidor en equipos que ejecutan Windows Server 2008 R2, use los cmdlets de Windows PowerShell que están disponibles para Administrador del servidor. Para obtener más información, vea [cmdlets de administrador del servidor](https://go.microsoft.com/fwlink/?LinkID=137653).
ServerManagerCmd se puede ejecutar desde cualquier directorio de las unidades locales del servidor. Debe ser miembro del grupo Administradores en el servidor donde desee instalar o quitar software.

> [!IMPORTANT]
> Debido a las restricciones de seguridad impuestas por el control de cuentas de usuario en Windows Server 2008 R2, debe ejecutar **ServerManagerCmd** en una ventana del símbolo del sistema abierta con permisos elevados. Para ello, haga clic con el botón secundario en el archivo ejecutable del símbolo del sistema o en el objeto **símbolo del sistema** del menú **Inicio** y, a continuación, haga clic en **Ejecutar como administrador**.

## <a name="examples"></a>Ejemplos
Para ver cómo usar **ServerManagerCmd** para mostrar una lista de todas las funciones, servicios de función y características disponibles, y qué roles, servicios de función y características están instalados en el equipo.
```
servermanagercmd -query
```
Para ver cómo usar **ServerManagerCmd** para instalar el rol servidor Web (IIS) y guardar los resultados de la instalación en un archivo XML representado por *installResult. XML*.
```
servermanagercmd -install Web-Server -resultpath installResult.xml
```
Para ver cómo usar el parámetro **Whatif** con **ServerManagerCmd** para mostrar información detallada acerca de los roles, servicios de función y características que se instalarán o quitarán, en función de las instrucciones especificadas en un archivo de respuesta XML representado por *install. XML*.
```
servermanagercmd -inputpath install.xml -whatif
```

## <a name="additional-references"></a>Referencias adicionales
-   para obtener una lista completa de los identificadores de funciones, servicios de función o características que puede especificar para el parámetro *ID* o para obtener más información sobre el uso de un archivo de respuesta XML con **ServerManagerCmd**, vea la [ayuda de administrador del servidor](https://go.microsoft.com/fwlink/?LinkID=137387). (https://go.microsoft.com/fwlink/?LinkID=137387).
-   Consulte [cmdlets de administrador del servidor](https://go.microsoft.com/fwlink/?LinkID=137653) para obtener una lista de cmdlets de Windows PowerShell que están disponibles para Administrador del servidor.
-   - [Clave de sintaxis de línea de comandos](command-line-syntax-key.md)
