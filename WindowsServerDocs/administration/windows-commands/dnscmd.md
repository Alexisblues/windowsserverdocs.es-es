---
title: Dnscmd
description: 'Tema de comandos de Windows para * * * *- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: e7f31cb5-a426-4e25-b714-88712b8defd5
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 494a371365e41f32c543cd0a18ca8a2d54da002b
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/27/2019
ms.locfileid: "71377685"
---
# <a name="dnscmd"></a>Dnscmd

>Se aplica a: Windows Server (canal semianual), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Una interfaz de línea de comandos para administrar servidores DNS. Esta utilidad es útil en los archivos por lotes de scripting para ayudar a automatizar las tareas de administración de DNS rutinarias, o para realizar una instalación desatendida sencilla y una configuración de nuevos servidores DNS en la red.  
## <a name="syntax"></a>Sintaxis  
```  
dnscmd <ServerName> <command> [<command parameters>]  
```  
## <a name="parameters"></a>Parámetros  

|  Parámetro   |                         Descripción                          |
|--------------|--------------------------------------------------------------|
| <ServerName> | La dirección IP o el nombre de host de un servidor DNS local o remoto. |

## <a name="commands"></a>Comandos  

|                       Comando                       |                                             Descripción                                              |
|-----------------------------------------------------|------------------------------------------------------------------------------------------------------|
|          [DNSCmd/ageallrecords](#BKMK_1)           |                     Establece la hora actual en todas las marcas de tiempo de una zona o un nodo.                      |
|            [DNSCmd/clearcache](#BKMK_2)            |                                     Borra la memoria caché del servidor DNS.                                     |
|              [DNSCmd/config](#BKMK_3)              |                             restablece la configuración de zona o el servidor DNS.                             |
| [DNSCmd/createbuiltindirectorypartitions](#BKMK_4) |                      crea las particiones de directorio de aplicaciones DNS integradas.                      |
|     [DNSCmd/createdirectorypartition](#BKMK_5)     |                            crea una partición de directorio de aplicaciones DNS.                            |
|     [DNSCmd/deletedirectorypartition](#BKMK_6)     |                            elimina una partición de directorio de aplicaciones DNS.                            |
|      [DNSCmd/directorypartitioninfo](#BKMK_7)      |                    muestra información acerca de una partición de directorio de aplicaciones DNS.                    |
|     [DNSCmd/enlistdirectorypartition](#BKMK_8)     |          agrega un servidor DNS al conjunto de replicación de una partición de directorio de aplicaciones DNS.          |
|     [DNSCmd/enumdirectorypartitions](#BKMK_9)      |                     enumera las particiones de directorio de aplicaciones DNS para un servidor.                     |
|           [DNSCmd/enumrecords](#BKMK_10)           |                                enumera los registros de recursos de una zona.                                 |
|            [DNSCmd/enumzones](#BKMK_11)            |                           enumera las zonas hospedadas por el servidor especificado.                            |
|         [DNSCmd/exportsettings](#BKMK_25a)         |                       Escribe la información de configuración del servidor en un archivo de texto.                        |
|              [DNSCmd/info](#BKMK_12)               |                                       Obtiene información del servidor.                                       |
|           [DNSCmd/ipvalidate](#BKMK_29a)           |                                    Valida los servidores DNS remotos.                                     |
|           [DNSCmd/nodedelete](#BKMK_13)            |                              elimina todos los registros de un nodo de una zona.                               |
|            [DNSCmd/recordadd](#BKMK_14)            |                                  agrega un registro de recursos a una zona.                                   |
|          [DNSCmd/recorddelete](#BKMK_15)           |                                quita un registro de recursos de una zona.                                |
|         [DNSCmd/resetforwarders](#BKMK_16)         |                            Configura los servidores DNS para que reenvíen las consultas recursivas.                            |
|      [DNSCmd/resetlistenaddresses](#BKMK_17)       |                           Establece las direcciones IP del servidor para atender las solicitudes DNS.                            |
|         [DNSCmd/startscavenging](#BKMK_18)         |                                     Inicia la eliminación de registros obsoletos del servidor.                                     |
|           [DNSCmd/Statistics](#BKMK_19)            |                              Consulta o borra los datos de las estadísticas del servidor.                               |
|   [DNSCmd/unenlistdirectorypartition](#BKMK_20)    |       quita un servidor DNS del conjunto de replicación de una partición de directorio de aplicaciones DNS.        |
|         [DNSCmd/writebackfiles](#BKMK_21)          |                             Guarda todos los datos de la zona o de la sugerencia de raíz en un archivo.                              |
|             [DNSCmd/zoneadd](#BKMK_22)             |                                crea una nueva zona en el servidor DNS.                                 |
|  [DNSCmd/zonechangedirectorypartition](#BKMK_23)   |                       cambia la partición de directorio en la que reside una zona.                       |
|           [DNSCmd/zonedelete](#BKMK_24)            |                                 elimina una zona del servidor DNS.                                  |
|           [DNSCmd/zoneexport](#BKMK_25)            |                        Escribe los registros de recursos de una zona en un archivo de texto.                         |
|            [DNSCmd/zoneinfo](#BKMK_26)             |                                      Muestra información de zona.                                      |
|            [DNSCmd/zonepause](#BKMK_27)            |                                            pausa una zona.                                            |
|            [DNSCmd/zoneprint](#BKMK_28)            |                                  Muestra todos los registros de la zona.                                   |
|           [DNSCmd/zonerefresh](#BKMK_30)           |                     fuerza una actualización de la zona secundaria desde la zona maestra.                     |
|           [DNSCmd/zonereload](#BKMK_31)            |                                  Vuelve a cargar una zona desde su base de datos.                                   |
|        [DNSCmd/zoneresetmasters](#BKMK_32)         |        cambia los servidores maestros que proporcionan información de transferencia de zona a una zona secundaria.        |
|    [DNSCmd/zoneresetscavengeservers](#BKMK_33)     |                            cambia los servidores que pueden limpiar una zona.                             |
|      [DNSCmd/zoneresetsecondaries](#BKMK_34)       |                               restablece la información secundaria de una zona.                               |
|          [DNSCmd/zoneresettype](#BKMK_29)          |                                        cambia el tipo de zona.                                        |
|           [DNSCmd/zoneresume](#BKMK_35)            |                                           Reanuda una zona.                                            |
|        [DNSCmd/zoneupdatefromds](#BKMK_36)         | Actualiza una zona integrada de Active Directory con datos de servicios de dominio de Active Directory (AD DS). |
|          [DNSCmd/zonewriteback](#BKMK_37)          |                                      Guarda los datos de la zona en un archivo.                                      |

### <a name="BKMK_1"></a>DNSCmd/ageallrecords  
Establece la hora actual de una marca de tiempo en los registros de recursos de una zona o nodo especificado en un servidor DNS.  
#### <a name="syntax"></a>Sintaxis  
```  
dnscmd [<ServerName>] /ageallrecords <ZoneName>[<NodeName>] | [/tree]|[/f]  
```  
#### <a name="parameters"></a>Parámetros  
<ServerName><br/>Especifica el servidor DNS que el administrador tiene previsto administrar, representado por la dirección IP, el nombre de dominio completo (FQDN) o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/><ZoneName><br/>Especifica el FQDN de la zona.<br/><NodeName><br/>Especifica un nodo o subárbol específico de la zona. *Nodename* especifica el nodo o subárbol de la zona con lo siguiente:<br/>-@ para la zona raíz o FQDN<br/>-El FQDN de un nodo (el nombre con un punto (.) al final)<br/>-Una sola etiqueta para el nombre relativo a la raíz de la zona<br/>/tree<br/>Especifica que todos los nodos secundarios también reciben la marca de tiempo.<br/>/f<br/>Ejecuta el comando sin solicitar confirmación.<br/># # # # Comentarios<br/>-El comando **ageallrecords** es para mantener la compatibilidad con versiones anteriores de DNS y versiones anteriores de DNS en las que no se admitía la detección y eliminación de registros obsoletos. Agrega una marca de tiempo con la hora actual a los registros de recursos que no tienen una marca de tiempo y establece la hora actual en los registros de recursos que tienen una marca de tiempo.<br/>-No se produce la limpieza de registros a menos que los registros tengan marca de tiempo. Los registros de recursos del servidor de nombres (NS), los registros de recursos de inicio de autoridad (SOA) y los registros de recursos del servicio de nombres Internet de Windows (WINS) no se incluyen en el proceso de eliminación de registros obsoletos, y no se marcan de tiempo incluso cuando se ejecuta el comando **ageallrecords** .<br/>-Este comando produce un error a menos que esté habilitada la eliminación de registros obsoletos para el servidor DNS y la zona. Para obtener información sobre cómo habilitar la eliminación de registros obsoletos para la zona, vea el parámetro **Aging** en sintaxis de nivel de zona en el comando <a href="#BKMK_3" data-raw-source="[config](#BKMK_3)">config</a> .<br/>-La adición de una marca de tiempo a los registros de recursos DNS hace que sean incompatibles con los servidores DNS que se ejecutan en sistemas operativos distintos de Windows 2000, Windows XP o Windows Server 2003. Una marca de tiempo que se agrega mediante el comando **ageallrecords** no se puede revertir.<br/>-Si no se especifica ninguno de los parámetros opcionales, el comando devuelve todos los registros de recursos en el nodo especificado. Si se especifica un valor para al menos uno de los parámetros opcionales, **DNSCmd** solo enumera los registros de recursos correspondientes al valor o los valores que se especifican en el parámetro o los parámetros opcionales.<br/># # # # (Ejemplo)<br/>Consulte @no__t 0Example 1: Establezca la hora actual de una marca de tiempo en registros de recursos @ no__t-0.<br/>### <a name="BKMK_2"></a>DNSCmd/clearcache<br/>Borra la memoria caché de DNS de los registros de recursos en el servidor DNS especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /clearcache</code><br/># # # # (Parámetros)<br/><ServerName><br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /clearcache</code><br/>### <a name="BKMK_3"></a>DNSCmd/config<br/>cambia los valores del registro para el servidor DNS y las zonas individuales. Acepta la configuración de nivel de servidor y la configuración de nivel de zona.<br/>&gt; [!CAUTION]<br/>&gt; no edite el registro directamente a menos que no tenga ninguna alternativa. El editor del registro omite las medidas de seguridad estándar, lo que permite valores que pueden degradar el rendimiento, dañar el sistema o incluso requerir que se vuelva a instalar Windows. Puede modificar la mayoría de la configuración del registro de forma segura mediante los programas del panel de control o Microsoft Management Console (MMC). Si debe modificar el registro directamente, haga una copia de seguridad en primer lugar. Para obtener más información, consulte la ayuda del editor del registro.<br/># # # # Sintaxis de nivel de servidor<br/><code>dnscmd [&lt;ServerName&gt;] /config &lt;Parameter&gt;</code><br/># # # # DNSCmd/config<br/>Modifica la configuración del servidor especificado.<br/># # # # (Parámetros)<br/><ServerName><br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/><Parameter><br/>Especifique una configuración y, como opción, un valor. Los valores de parámetro usan esta sintaxis: *Parámetro* [*valor*]<br/>En el resto de esta sección se describen los siguientes valores de parámetro:<br/>-    **/addressanswerlimit**<br/>-    **/bindsecondaries**<br/>-    **/bootmethod**<br/>-    **/defaultagingstate**<br/>-    **/defaultnorefreshinterval**<br/>-    **/defaultrefreshinterval**<br/>-    **/disableautoreversezones**<br/>-    **/disablensrecordsautocreation**<br/>-    **/dspollinginterval**<br/>-    **/dstombstoneinterval**<br/>-    **/EDNSCacheTimeout**<br/>-    **/enablednsprobes**<br/>-    **/enablednssec**<br/>-    **/enableglobalnamessupport**<br/>-    **/enableglobalqueryblocklist**<br/>-    **/eventloglevel**<br/>-    **/forwarddelegations**<br/>-    **/forwardingtimeout**<br/>-    **/globalnamesqueryorder**<br/>-    **/GlobalQueryBlockList**<br/>-    **/isslave**<br/>-    **/localnetpriority**<br/>-    **/logfilemaxsize**<br/>-    **/logFilePath**<br/>-    **/logipfilterlist**<br/>-    **/LogLevel**<br/>-    **/maxcachesize**<br/>-    **/maxcachettl**<br/>-    **/namecheckflag**<br/>-    **/notcp**<br/>-    **/NoRecursion**<br/>-    **/recursionretry**<br/>-    **/recursiontimeout**<br/>-    **/RoundRobin**<br/>-    **/RpcProtocol**<br/>-    **/scavenginginterval**<br/>-    **/secureresponses**<br/>-    **/sendport**<br/>-    **/strictfileparsing**<br/>-    **/UpdateOptions**<br/>-    **/writeauthorityns**<br/>-    **/xfrconnecttimeout**<br/>**/addressanswerlimit [0 | 5-28]**<br/>Especifica el número máximo de registros de host que un servidor DNS puede enviar como respuesta a una consulta. El valor puede ser cero (0) o puede estar en el intervalo de 5 a 28 registros. El valor predeterminado es cero (0).<br/>**/bindsecondaries [0 | 1]**<br/>cambia el formato de la transferencia de zona para que pueda lograr la máxima compresión y eficacia. Sin embargo, este formato no es compatible con las versiones anteriores de Berkeley Internet Name domain (BIND).<br/>**0**<br/>Usa la compresión máxima. Este formato es compatible con las versiones de BIND 4.9.4 y versiones posteriores.<br/>**1**<br/>Envía un solo registro de recursos por mensaje a servidores DNS que no son de Microsoft. Este formato es compatible con las versiones de BIND anteriores a la 4.9.4. Esta es la configuración predeterminada.<br/>**/bootmethod [0 | 1 | 2 | 3]**<br/>Determina el origen desde el que el servidor DNS obtiene la información de configuración.<br/>**0**<br/>Borra el origen de la información de configuración.<br/>**1**<br/>Se carga desde el archivo de enlace que se encuentra en el directorio DNS, que es%systemroot%\System32\DNS de forma predeterminada.<br/>**2**<br/>Carga desde el registro.<br/>**3**<br/>Carga desde AD DS y el registro. Esta es la configuración predeterminada.<br/>**/defaultagingstate [0 | 1]**<br/>Determina si la característica de eliminación de registros obsoletos de DNS está habilitada de forma predeterminada en las zonas recién creadas.<br/>**0**<br/>Deshabilita la eliminación de registros obsoletos. Esta es la configuración predeterminada.<br/>**1**<br/>Habilita la eliminación de registros obsoletos.<br/>**/defaultnorefreshinterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Establece un período de tiempo en el que no se aceptan actualizaciones para los registros actualizados dinámicamente. Las zonas del servidor heredan este valor automáticamente. Para cambiar el valor predeterminado, escriba un valor en el intervalo de **0x1-0xFFFFFFFF**. El valor predeterminado del servidor es **0xA8**.<br/>**/defaultrefreshinterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Establece un período de tiempo que se permite para las actualizaciones dinámicas en registros DNS. Las zonas del servidor heredan este valor automáticamente. Para cambiar el valor predeterminado, escriba un valor en el intervalo de **0x1-0xFFFFFFFF**. El valor predeterminado del servidor es **0xA8**.<br/>**/disableautoreversezones [0 | 1]**<br/>Habilita o deshabilita la creación automática de zonas de búsqueda inversa. Las zonas de búsqueda inversa proporcionan la resolución de direcciones de protocolo de Internet (IP) a nombres de dominio DNS.<br/>**0**<br/>Habilita la creación automática de zonas de búsqueda inversa. Esta es la configuración predeterminada.<br/>**1**<br/>Deshabilita la creación automática de zonas de búsqueda inversa.<br/>**/disablensrecordsautocreation {0 | 1}**<br/>Especifica si el servidor DNS crea automáticamente registros de recursos del servidor de nombres (NS) para las zonas que hospeda.<br/>**0**<br/>Crea automáticamente registros de recursos del servidor de nombres (NS) para las zonas que hospeda el servidor DNS.<br/>**1**<br/>No crea automáticamente registros de recursos del servidor de nombres (NS) para las zonas que hospeda el servidor DNS.<br/>**/dspollinginterval 0-30**<br/>Especifica la frecuencia con que el servidor DNS sondea AD DS para buscar cambios en zonas integradas de Active Directory.<br/>**/dstombstoneinterval [1-30]**<br/>Cantidad de tiempo en segundos que se conservarán los registros eliminados en AD DS.<br/>**/EDNSCacheTimeout [<seconds>]**<br/>Especifica el número de segundos que se almacena en caché la información de DNS extendido (EDNS). El valor mínimo es 3600 y el valor máximo es 15.724.800. El valor predeterminado es 604.800 segundos (una semana).<br/>**/enableednsprobes {0 | 1}**<br/>Habilita o deshabilita el servidor para sondear a otros servidores a fin de determinar si admiten EDNS.<br/>**0**<br/>Deshabilita la compatibilidad activa para los sondeos de EDNS.<br/>**1**<br/>Habilita la compatibilidad activa para sondeos de EDNS.<br/>**/enablednssec {0 | 1}**<br/>Habilita o deshabilita la compatibilidad con las extensiones de seguridad DNS (DNSSEC).<br/>**0**<br/>Deshabilita DNSSEC.<br/>**1**<br/>Habilita DNSSEC.<br/>**/enableglobalnamessupport {0 | 1}**<br/>Habilita o deshabilita la compatibilidad con la zona GlobalNames. La zona GlobalNames admite la resolución de nombres DNS de etiqueta única en un bosque.<br/>**0**<br/>Deshabilita la compatibilidad con la zona GlobalNames. Cuando el valor de este comando se establece en **0**, el servicio servidor DNS no resuelve los nombres de etiqueta única en la zona GlobalNames.<br/>**1**<br/>Habilita la compatibilidad con la zona GlobalNames. Al establecer el valor de este comando en **1**, el servicio servidor DNS resuelve los nombres de etiqueta única en la zona GlobalNames.<br/>**/enableglobalqueryblocklist {0 | 1}**<br/>Habilita o deshabilita la compatibilidad con la lista global de consultas bloqueadas que bloquea la resolución de nombres de los nombres de la lista. El servicio servidor DNS crea y habilita la lista global de consultas bloqueadas de forma predeterminada cuando el servicio se inicia por primera vez. Para ver la lista global de consultas bloqueadas actualmente, use el comando **DNSCmd/info/GlobalQueryBlockList** .<br/>**0**<br/>Deshabilita la compatibilidad con la lista global de consultas bloqueadas. Cuando el valor de este comando se establece en **0**, el servicio servidor DNS responde a las consultas de nombres en la lista de bloques.<br/>**1**<br/>Habilita la compatibilidad con la lista global de consultas bloqueadas. Al establecer el valor de este comando en **1**, el servicio servidor DNS no responde a las consultas de los nombres de la lista de bloques.<br/>**/eventloglevel [0 | 1 | 2 | 4]**<br/>Determina qué eventos se registran en el registro del servidor DNS en Visor de eventos.<br/>**0**<br/>No registra ningún evento.<br/>**1**<br/>Solo registra errores.<br/>**2**<br/>Solo registra errores y advertencias.<br/>**4**<br/>Registra errores, advertencias y eventos informativos. Esta es la configuración predeterminada.<br/>**/forwarddelegations [0 | 1]**<br/>Determina cómo controla el servidor DNS una consulta para una subzona delegada. Estas consultas se pueden enviar a la subzona a la que se hace referencia en la consulta o a la lista de reenviadores que se denomina para el servidor DNS. Las entradas de la configuración solo se usan cuando está habilitado el reenvío.<br/>**0**<br/>Envía automáticamente las consultas que hacen referencia a las subzonas delegadas a la subzona adecuada. Esta es la configuración predeterminada.<br/>**1**<br/>reenvía las consultas que hacen referencia a la subzona delegada a los reenviadores existentes.<br/>**/forwardingtimeout [<seconds>]**<br/>Determina el número de segundos (0x1-0xFFFFFFFF) que un servidor DNS espera a que un reenviador responda antes de intentar otro reenviador. El valor predeterminado es **0X5**, que es 5 segundos.<br/>**/globalneamesqueryorder** {**0 | 1**}<br/>Especifica si el servicio servidor DNS busca primero en la zona GlobalNames o en las zonas locales cuando resuelve los nombres.<br/>**0**<br/>El servicio servidor DNS intenta resolver los nombres consultando la zona GlobalNames antes de consultar las zonas para las que es autoritativo.<br/>**1**<br/>El servicio servidor DNS intenta resolver nombres mediante la consulta de las zonas para las que es autoritativo antes de consultar la zona GlobalNames.<br/>**/GlobalQueryBlockList [[<name> [<name>]...]**<br/>reemplaza la lista global de consultas bloqueadas actual por una lista de los nombres que especifique. Si no especifica ningún nombre, este comando borra la lista de bloques. De forma predeterminada, la lista global de consultas bloqueadas contiene los siguientes elementos:<br/>-ISATAP<br/>-WPAD<br/>El servicio servidor DNS puede quitar uno o ambos nombres cuando se inicia por primera vez, si encuentra estos nombres en una zona existente.<br/>**/isslave [0 | 1]**<br/>Determina cómo responde el servidor DNS cuando las consultas que reenvía no reciben ninguna respuesta.<br/>**0**<br/>Especifica que el servidor DNS no es un subordinado (también conocido como *esclavo*). Si el reenviador no responde, el servidor DNS intenta resolver la propia consulta. Esta es la configuración predeterminada.<br/>**1**<br/>Especifica que el servidor DNS es un subordinado. Si el reenviador no responde, el servidor DNS finaliza la búsqueda y envía un mensaje de error al solucionador.<br/>**/localnetpriority [0 | 1]**<br/>Determina el orden en el que se devuelven los registros de host cuando el servidor DNS tiene varios registros de host para el mismo nombre.<br/>**0**<br/>Devuelve los registros en el orden en que aparecen en la base de datos DNS.<br/>**1**<br/>Devuelve primero los registros que tienen direcciones de red IP similares. Esta es la configuración predeterminada.<br/>**/logfilemaxsize [<size>]**<br/>Especifica el tamaño máximo en bytes (0x10000-0xFFFFFFFF) del archivo DNS. log. Cuando el archivo alcanza su tamaño máximo, DNS sobrescribe los eventos más antiguos. El tamaño predeterminado es 0x400000, que es 4 megabytes (MB).<br/>**/logFilePath [&lt;path + nombreDeArchivoDeRegistro @ no__t-2]**<br/>Especifica la ruta de acceso del archivo DNS. log. La ruta de acceso predeterminada es%systemroot%\System32\Dns\Dns.log. Puede especificar una ruta de acceso diferente mediante la *ruta de acceso Format + nombreDeArchivoDeRegistro*.<br/>**/logipfilterlist <IPaddress> [, <IPaddress>...]**<br/>Especifica los paquetes que se registran en el archivo de registro de depuración. Las entradas son una lista de direcciones IP. Solo se registran los paquetes que van hacia y desde las direcciones IP de la lista.<br/>**/LogLevel [<Eventtype>]**<br/>Determina qué tipos de eventos se registran en el archivo DNS. log. Cada tipo de evento se representa mediante un número hexadecimal. Si desea más de un evento en el registro, use la suma hexadecimal para agregar los valores y, a continuación, escriba la suma.<br/>**0X0**<br/>El servidor DNS no crea un registro. Esta es la entrada predeterminada.<br/>**0x10**<br/>Registra consultas.<br/>**0x10**<br/>Registra las notificaciones.<br/>**0x20**<br/>Registra las actualizaciones.<br/>**0xFE**<br/>Registra transacciones que no son de consulta.<br/>**0x100**<br/>Registra las transacciones de preguntas.<br/>**0x200**<br/>Registra respuestas.<br/>**0x1000**<br/>Los registros envían paquetes.<br/>**0x2000**<br/>Los registros reciben paquetes.<br/>**0x4000**<br/>Registra paquetes UDP (Protocolo de datagramas de usuario).<br/>**0x8000**<br/>Registra paquetes del Protocolo de control de transmisión (TCP).<br/>**0xFFFF**<br/>Registra todos los paquetes.<br/>**0x10000**<br/>Registra transacciones de escritura de Active Directory.<br/>**0x20000**<br/>Registra transacciones de actualización de Active Directory.<br/>**0x1000000**<br/>Registra paquetes completos.<br/>**0x80000000**<br/>Registra transacciones de escritura a través.<br/>**/maxcachesize**<br/>Especifica el tamaño máximo, en kilobytes (KB), de la memoria caché del servidor DNS.<br/>**/maxcachettl [<seconds>]**<br/>Determina cuántos segundos (0X0-0xFFFFFFFF) se guarda un registro en la memoria caché. Si se usa la opción **0X0** , el servidor DNS no almacena en caché los registros. La configuración predeterminada es **0x15180** (86.400 segundos o 1 día).<br/>**/maxnegativecachettl [<seconds>]**<br/>Especifica el número de segundos (0x1-0xFFFFFFFF) que una entrada que registra una respuesta negativa en una consulta permanece almacenada en la memoria caché de DNS. La configuración predeterminada es **0x384** (900 segundos).<br/>**/namecheckflag [0 | 1 | 2 | 3]**<br/>Especifica el estándar de caracteres que se utiliza al comprobar los nombres DNS.<br/>**0**<br/>Usa caracteres ANSI que cumplen con la solicitud de comentarios (RFC) de Internet Engineering Task Force (IETF).<br/>**1**<br/>Utiliza caracteres ANSI que no cumplen necesariamente las RFC de IETF.<br/>**2**<br/>Utiliza caracteres de formato de transformación UCS 8 (UTF-8) multibyte. Esta es la configuración predeterminada.<br/>**3**<br/>Utiliza todos los caracteres.<br/>**/NoRecursion [0 | 1]**<br/>Determina si un servidor DNS realiza la resolución de nombres recursivos.<br/>**0**<br/>El servidor DNS realiza la resolución de nombres recursivo si se solicita en una consulta. Esta es la configuración predeterminada.<br/>**1**<br/>El servidor DNS no realiza la resolución de nombres recursivos.<br/>**/notcp**<br/>Este parámetro está obsoleto y no tiene ningún efecto en las versiones actuales de Windows Server.<br/>**/recursionretry [<seconds>]**<br/>Determina el número de segundos (0x1-0xFFFFFFFF) que un servidor DNS espera antes de volver a intentar ponerse en contacto con un servidor remoto. El valor predeterminado es 0X3 (tres segundos). Este valor debe aumentarse cuando se produce la recursividad a través de un vínculo de red de área extensa (WAN) lento.<br/>**/recursiontimeout [<seconds>]**<br/>Determina el número de segundos (0x1-0xFFFFFFFF) que un servidor DNS espera antes de que se insiga intentando ponerse en contacto con un servidor remoto. La configuración oscila entre **0x1** y **0xFFFFFFFF**. La configuración predeterminada es **0xF** (15 segundos). Este valor debe aumentarse cuando se produce la recursividad a través de un vínculo WAN lento.<br/>**/RoundRobin [0 | 1]**<br/>Determina el orden en el que se devuelven los registros de host cuando un servidor tiene varios registros de host para el mismo nombre.<br/>0<br/>El servidor DNS no utiliza round robin. En su lugar, devuelve el primer registro en cada consulta.<br/>**1**<br/>El servidor DNS gira entre los registros que devuelve desde la parte superior hasta la parte inferior de la lista de registros coincidentes. Esta es la configuración predeterminada.<br/>**/RpcProtocol [0X0 | 0x1 | 0X2 | 0x4 | 0xFFFFFFFF]**<br/>Especifica el protocolo que usa la llamada a procedimiento remoto (RPC) cuando realiza una conexión desde el servidor DNS.<br/>**0X0**<br/>Deshabilita RPC para DNS.<br/>**0x1**<br/>Usa TCP/IP.<br/>**0x2**<br/>Usa canalizaciones con nombre.<br/>**0x4**<br/>Usa la llamada a procedimiento local (LPC).<br/>**0xFFFFFFFF**<br/>Todos los protocolos. Esta es la configuración predeterminada.<br/>**/scavenginginterval [<hours>]**<br/>Determina si la característica de eliminación de registros obsoletos para el servidor DNS está habilitada y establece el número de horas (0X0-0xFFFFFFFF) entre los ciclos de eliminación de registros obsoletos. La configuración predeterminada es **0X0**, que deshabilita la eliminación de registros obsoletos para el servidor DNS. Un valor mayor que **0X0** habilita la eliminación de registros obsoletos para el servidor y establece el número de horas entre los ciclos de eliminación de registros obsoletos.<br/>**/secureresponses [0 | 1]**<br/>Determina si DNS filtra los registros que se guardan en una memoria caché.<br/>**0**<br/>Guarda todas las respuestas a las consultas de nombres en una memoria caché. Esta es la configuración predeterminada.<br/>**1**<br/>Guarda solo los registros que pertenecen al mismo subárbol DNS en una memoria caché.<br/>**/sendport [<port>]**<br/>Especifica el número de puerto (0X0-0xFFFFFFFF) que DNS usa para enviar consultas recursivas a otros servidores DNS. La configuración predeterminada es **0X0**, lo que significa que el número de puerto se selecciona aleatoriamente.<br/>**/serverlevelplugindll [<Dllpath>]**<br/>Especifica la ruta de acceso de un complemento personalizado. Cuando *Dllpath* especifica el nombre completo de la ruta de acceso de un complemento de servidor DNS válido, el servidor DNS llama a las funciones del complemento para resolver las consultas de nombres que están fuera del ámbito de todas las zonas hospedadas localmente. Si un nombre consultado está fuera del ámbito del complemento, el servidor DNS realiza la resolución de nombres mediante reenvío o recursividad, tal y como se ha configurado. Si no se especifica *Dllpath* , el servidor DNS deja de usar un complemento personalizado si se configuró previamente un complemento personalizado.<br/>**/strictfileparsing [0 | 1]**<br/>Determina el comportamiento de&#39;un servidor DNS cuando encuentra un registro erróneo mientras carga una zona.<br/>**0**<br/>El servidor DNS continúa cargando la zona aunque el servidor encuentre un registro erróneo. El error se registra en el registro de DNS. Esta es la configuración predeterminada.<br/>**1**<br/>El servidor DNS deja de cargar la zona y registra el error en el registro de DNS.<br/>**@no__t/UpdateOptions-1**<br/>Prohíbe las actualizaciones dinámicas de los tipos de registros especificados. Si desea que se prohíba más de un tipo de registro en el registro, use la adición hexadecimal para agregar los valores y, a continuación, escriba la suma.<br/>**0X0**<br/>No restringe ningún tipo de registro.<br/>**0x1**<br/>Excluye los registros de recursos de inicio de autoridad (SOA).<br/>**0x2**<br/>Excluye los registros de recursos del servidor de nombres (NS).<br/>**0x4**<br/>Excluye la delegación de registros de recursos del servidor de nombres (NS).<br/>**0x8**<br/>Excluye los registros de host de servidor.<br/>**0x100**<br/>Durante la actualización dinámica segura, excluye los registros de recursos de inicio de autoridad (SOA).<br/>**0x200**<br/>Durante la actualización dinámica segura, excluye los registros de recursos del servidor de nombres raíz (NS).<br/>**0x30F**<br/>Durante la actualización dinámica estándar, excluye los registros de recursos del servidor de nombres (NS), los registros de recursos de inicio de autoridad (SOA) y los registros de host de servidor. Durante la actualización dinámica segura, excluye los registros de recursos del servidor de nombres raíz (NS) y los registros de recursos de inicio de autoridad (SOA). Permite las delegaciones y las actualizaciones del host de servidor.<br/>**0x400**<br/>Durante la actualización dinámica segura, excluye los registros de recursos del servidor de nombres de delegación (NS).<br/>**0x800**<br/>Durante la actualización dinámica segura, excluye los registros de host de servidor.<br/>**0x1000000**<br/>Excluye los registros del firmante de delegación (DS).<br/>**0x80000000**<br/>Deshabilita la actualización dinámica de DNS.<br/>**/writeauthorityns [0 | 1]**<br/>Determina cuándo el servidor DNS escribe los registros de recursos del servidor de nombres (NS) en la sección de autoridad de una respuesta.<br/>**0**<br/>Escribe los registros de recursos del servidor de nombres (NS) en la sección de autoridad de las referencias. Esta configuración cumple con RFC 1034, los conceptos y las instalaciones de los nombres de dominio, y con RFC 2181, aclaraciones de la especificación de DNS. Esta es la configuración predeterminada.<br/>**1**<br/>Escribe los registros de recursos del servidor de nombres (NS) en la sección autoridad de todas las respuestas autoritativas correctas.<br/>**/xfrconnecttimeout [<seconds>]**<br/>Determina el número de segundos (0X0-0xFFFFFFFF) que un servidor DNS principal espera una respuesta de transferencia de su servidor secundario. El valor predeterminado es **0x1E** (30 segundos). Después de que expire el valor de tiempo de espera, se finaliza la conexión.<br/># # # # Sintaxis de nivel de zona<br/><code>dnscmd /config &lt;Parameters&gt;</code><br/># # # # DNSCmd/config<br/>Modifica la configuración de la zona especificada.<br/># # # # (Parámetros)<br/>**<Parameters>**<br/>Especifique una configuración, un nombre de zona y, como opción, un valor. Los valores de parámetro usan esta sintaxis: *Nombre_zona (parámetro* ) [*valor*]<br/>En el resto de esta sección se documentan los siguientes valores de parámetro:<br/>-    **/Aging**<br/>-    **/allownsrecordsautocreation**<br/>-    **/AllowUpdate**<br/>-    **/forwarderslave**<br/>-    **/forwardertimeout**<br/>-    **/NoRefreshInterval**<br/>-    **/RefreshInterval**<br/>-    **/securesecondaries**<br/>**@no__t/Aging-1**<br/>Habilita o deshabilita la eliminación de registros obsoletos en una zona específica.<br/>**/allownsrecordsautocreation <ZoneName> [<Value>]**<br/>Invalida la configuración de creación de&#39;registros de recursos del servidor de nombres (NS) del servidor DNS s. Los registros de recursos del servidor de nombres (NS) que se registraron previamente para esta zona no se ven afectados. Por lo tanto, debe quitarlos manualmente si no los desea.<br/>**@no__t/AllowUpdate-1**<br/>Determina si la zona especificada acepta actualizaciones dinámicas.<br/>**@no__t/forwarderslave-1**<br/>Invalida el valor **/isslave** del servidor DNS.<br/>**@no__t/forwardertimeout-1**<br/>Determina el número de segundos que una zona DNS espera a que un reenviador responda antes de intentar otro reenviador. Este valor invalida el valor que se establece en el nivel de servidor.<br/>**@no__t/NoRefreshInterval-1**<br/>Establece un intervalo de tiempo para una zona durante la cual ninguna actualización puede actualizar dinámicamente los registros DNS de una zona especificada.<br/>**@no__t/RefreshInterval-1**<br/>Establece un intervalo de tiempo para una zona durante la cual las actualizaciones pueden actualizar dinámicamente los registros DNS de una zona especificada.<br/>**@no__t/securesecondaries-1**<br/>Determina qué servidores secundarios pueden recibir actualizaciones de zona del servidor maestro para esta zona.<br/># # # # Comentarios<br/>-El nombre de la zona debe especificarse solo para los parámetros de nivel de zona.<br/>### <a name="BKMK_4"></a>DNSCmd/createbuiltindirectorypartitions<br/>crea una partición de directorio de aplicaciones DNS. Cuando se instala DNS, se crea una partición de directorio de aplicaciones para el servicio en los niveles de bosque y dominio. Use este comando para crear particiones de directorio de aplicaciones DNS que se han eliminado o que no se han creado nunca. Sin ningún parámetro, este comando crea una partición de directorio DNS integrada para el dominio.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /createbuiltindirectorypartitions [/forest] [/alldomains]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**/Forest**<br/>crea una partición de directorio DNS para el bosque.<br/>**/alldomains**<br/>crea particiones DNS para todos los dominios del bosque.<br/>### <a name="BKMK_5"></a>DNSCmd/createdirectorypartition<br/>crea una partición de directorio de aplicaciones DNS. Cuando se instala DNS, se crea una partición de directorio de aplicaciones para el servicio en los niveles de bosque y dominio. Esta operación crea particiones de directorio de aplicaciones DNS adicionales.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /createdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<PartitionFQDN>**<br/>El FQDN de la partición de directorio de aplicaciones DNS que se creará.<br/>### <a name="BKMK_6"></a>DNSCmd/deletedirectorypartition<br/>quita una partición de directorio de aplicaciones DNS existente.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /deletedirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<PartitionFQDN>**<br/>El FQDN de la partición de directorio de aplicaciones DNS que se va a quitar.<br/>### <a name="BKMK_7"></a>DNSCmd/directorypartitioninfo<br/>muestra información acerca de una partición de directorio de aplicaciones DNS especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /directorypartitioninfo &lt;PartitionFQDN&gt; [/detail]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<PartitionFQDN>**<br/>El FQDN de la partición de directorio de aplicaciones DNS.<br/>**/Detail**<br/>muestra toda la información acerca de la partición de directorio de aplicaciones.<br/>### <a name="BKMK_8"></a>DNSCmd/enlistdirectorypartition<br/>agrega el servidor DNS al conjunto de réplicas&#39;de la partición de directorio especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /enlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<PartitionFQDN>**<br/>El FQDN de la partición de directorio de aplicaciones DNS.<br/>### <a name="BKMK_9"></a>DNSCmd/enumdirectorypartitions<br/>enumera las particiones de directorio de aplicaciones DNS para el servidor especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /enumdirectorypartitions [/custom]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**/custom**<br/>muestra solo las particiones de directorio creadas por el usuario.<br/>### <a name="BKMK_10"></a>DNSCmd/enumrecords<br/>enumera los registros de recursos de un nodo especificado en una zona DNS.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /enumrecords &lt;ZoneName&gt; &lt;NodeName&gt; [/type &lt;RRtype&gt; &lt;Rrdata&gt;] [/authority] [/glue] [/additional] [/node | /child | /startchild&lt;ChildName&gt;] [/continue | /detail]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**/enumrecords**<br/>enumera los registros de recursos de la zona especificada.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona a la que pertenecen los registros de recursos.<br/>**<NodeName>**<br/>Especifica el nombre del nodo de los registros de recursos.<br/>**/Type <RRtype> <Rrdata>**<br/>Especifica el tipo de registros de recursos que se va a enumerar y el tipo de datos que se espera:<br/>**<RRtype>**<br/>Especifica el tipo de registros de recursos que se van a mostrar.<br/>**<Rrdata>**<br/>Especifica el tipo de datos que se espera que sea un registro.<br/>**/authority**<br/>Incluye datos autoritativos.<br/>**/glue**<br/>Incluye datos de adherencia.<br/>**/additional**<br/>Incluye toda la información adicional sobre los registros de recursos enumerados.<br/>**{/node |/Child |/startchild <ChildName>}**<br/>Filtra o agrega información a la presentación del registro de recursos:<br/>**/node**<br/>muestra solo los registros de recursos del nodo especificado.<br/>**/Child**<br/>muestra solo los registros de recursos de un dominio secundario especificado.<br/>**@no__t/startchild-1**<br/>Inicia la lista en el dominio secundario especificado.<br/>**/Continue | /Detail**<br/>Especifica cómo se muestran los datos devueltos.<br/>**/Continue**<br/>muestra solo los registros de recursos con el tipo y los datos.<br/>**/Detail**<br/>muestra toda la información sobre los registros de recursos.<br/># # # # Uso de ejemplo<br/><code>dnscmd /enumrecords test.contoso.com test /additional</code><br/>### <a name="BKMK_11"></a>DNSCmd/enumzones<br/>muestra una lista de las zonas que existen en el servidor DNS especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /enumzones [/primary | /secondary | /forwarder | /stub | /cache | /auto-created] [/forward | /reverse | /ds | /file] [/domaindirectorypartition | /forestdirectorypartition | /customdirectorypartition | /legacydirectorypartition | /directorypartition &lt;PartitionFQDN&gt;]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**/Primary | /Secondary | /Forwarder | /stub | /cache | /auto-created**<br/>Filtra los tipos de zonas que se van a mostrar:<br/>**/Primary**<br/>muestra todas las zonas que son zonas principales estándar o zonas integradas de Active Directory.<br/>**/secondary**<br/>muestra todas las zonas secundarias estándar.<br/>**/forwarder**<br/>muestra las zonas que reenvían consultas sin resolver a otro servidor DNS.<br/>**/stub**<br/>muestra todas las zonas de rutas internas.<br/>**/cache**<br/>muestra solo las zonas que se cargan en la memoria caché.<br/>**/auto-created**<br/>muestra las zonas que se crearon automáticamente durante la instalación del servidor DNS.<br/>**/zonas | /zonas | /DS | /File**<br/>Especifica filtros adicionales de los tipos de zonas que se van a mostrar:<br/>**/zonas**<br/>enumera las zonas de búsqueda directa.<br/>**/zonas**<br/>muestra las zonas de búsqueda inversa.<br/>**/DS**<br/>enumera las zonas integradas de Active Directory.<br/>**/File**<br/>muestra las zonas respaldadas por archivos.<br/>**/domaindirectorypartition**<br/>muestra las zonas que se almacenan en la partición de directorio de dominio.<br/>**/forestdirectorypartition**<br/>enumera las zonas que se almacenan en la partición de directorio de aplicaciones DNS de bosque.<br/>**/customdirectorypartition**<br/>muestra todas las zonas que se almacenan en una partición de directorio de aplicación definida por el usuario.<br/>**/legacydirectorypartition**<br/>muestra todas las zonas almacenadas en la partición de directorio de dominio.<br/>**@no__t/directorypartition-1**<br/>muestra todas las zonas almacenadas en la partición de directorio especificada.<br/># # # # Comentarios<br/>-Los parámetros de **enumzones** actúan como filtros en la lista de zonas. Si no se especifica ningún filtro, se devuelve una lista completa de las zonas. Cuando se especifica un filtro, solo se incluyen en la lista de&#39;zonas devuelta las zonas que cumplen los criterios de filtro.<br/># # # # (Ejemplo)<br/>Consulte @no__t 0Example 2: Mostrar una lista completa de las zonas en un servidor DNS @ no__t-0 o <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 3: Display a list of autocreated zones on a DNS server](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">Example 3: Mostrar una lista de zonas creadas en un servidor DNS @ no__t-0.<br/>### <a name="BKMK_25a"></a>DNSCmd/exportsettings<br/>crea un archivo de texto que enumera los detalles de configuración de un servidor DNS. El archivo de texto se denomina DnsSettings. txt. Se encuentra en el directorio%SystemRoot%\System32\Dns del servidor.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /exportsettings</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/># # # # Comentarios<br/>-Puede usar la información del archivo que **DNSCmd/exportsettings** crea para solucionar problemas de configuración o para asegurarse de que ha configurado varios servidores de forma idéntica.<br/>### <a name="BKMK_12"></a>DNSCmd/info<br/>Muestra la configuración de la sección DNS del registro del servidor especificado: **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters**<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /info [&lt;Setting&gt;]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<Setting>**<br/>Cualquier configuración que devuelva el comando **info** se puede especificar individualmente. Si no se especifica un valor, se devuelve un informe de la configuración común.<br/># # # # Comentarios<br/>: Este comando muestra la configuración del registro que se encuentra en el nivel de servidor DNS. Para mostrar la configuración del registro en el nivel de zona, use el comando <a href="#BKMK_26" data-raw-source="[zoneinfo](#BKMK_26)">zoneinfo</a> . Para ver una lista de los valores que se pueden mostrar con este comando, consulte la descripción de <a href="#BKMK_3" data-raw-source="[config](#BKMK_3)">la configuración.</a><br/># # # # (Ejemplo)<br/>Consulte @no__t 0Example 4: Mostrar la configuración IsSlave desde un servidor DNS @ no__t-0 o <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 5: Display the Recursiontimeout setting from a DNS server](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">Example 5: Muestra el valor Recursiontimeout de un servidor DNS @ no__t-0.<br/>### <a name="BKMK_29a"></a>DNSCmd/ipvalidate<br/>Comprueba si una dirección IP identifica un servidor DNS en funcionamiento o si el servidor DNS puede actuar como reenviador, un servidor de sugerencias raíz o un servidor maestro para una zona específica.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /ipvalidate &lt;Context&gt; [&lt;ZoneName&gt;] [[&lt;IPaddress&gt;]]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<Context>**<br/>Especifica el tipo de prueba que se va a realizar. Puede especificar cualquiera de las siguientes pruebas:<br/>-    **/dnsservers** comprueba que los equipos con las direcciones que especifique son servidores DNS que funcionan.<br/>-    **/Forwarders** comprueba que las direcciones que especifique identifican los servidores DNS que pueden actuar como reenviadores.<br/>-    **/roothints** comprueba que las direcciones que especifique identifican los servidores DNS que pueden actuar como servidores de nombres de sugerencia de raíz.<br/>-    **/zonemasters** comprueba que las direcciones que especifique identifican los servidores DNS que son servidores maestros para *nombre_zona*.<br/>**<ZoneName>**<br/>Identifica la zona. Use este parámetro con el parámetro **/zonemasters** .<br/>**<IPaddress>**<br/>Especifica las direcciones IP que el comando comprueba.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /ipvalidate /dnsservers 10.0.0.1 10.0.0.2  
dnscmd dnssvr1.contoso.com /ipvalidate /zonemasters corp.contoso.com 10.0.0.2</pre><br/>### <a name="BKMK_13"></a>DNSCmd/nodedelete<br/>elimina todos los registros de un host especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /nodedelete &lt;ZoneName&gt; &lt;NodeName&gt; [/tree] [/f]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona.<br/>**<NodeName>**<br/>Especifica el nombre de host del nodo que se va a eliminar.<br/>**/tree**<br/>elimina todos los registros secundarios.<br/>**/f**<br/>ejecuta el comando sin solicitar confirmación.<br/># # # # (Ejemplo)<br/>Vea <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 6: delete the records from a node](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">el ejemplo 6: eliminación de los registros de un nodo</a>.<br/>### <a name="BKMK_14"></a>DNSCmd/recordadd<br/>agrega un registro a una zona especificada en un servidor DNS.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /recordadd &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica la zona en la que reside el registro.<br/>**<NodeName>**<br/>Especifica un nodo específico de la zona.<br/>**<RRtype>**<br/>Especifica el tipo de registro que se va a agregar.<br/>**<Rrdata>**<br/>Especifica el tipo de datos que se espera.<br/>&gt; [!NOTE]<br/>&gt; al agregar un registro, asegúrese de usar el tipo de datos y el formato de datos correctos. Para obtener una lista de tipos de registro de recursos y los tipos de datos adecuados, consulte <a href="https://technet.microsoft.com/library/cc758321(v=ws.10).aspx" data-raw-source="[Resource records reference](https://technet.microsoft.com/library/cc758321(v=ws.10).aspx)">referencia de registros de recursos</a>.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /recordadd test A 10.0.0.5  
dnscmd /recordadd test.contoso.com test MX 10 mailserver.test.contoso.com</pre><br/>### <a name="BKMK_15"></a>DNSCmd/recorddelete<br/>elimina un registro de recursos de una zona especificada.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /recorddelete &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;[/f]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica la zona en la que reside el registro de recursos.<br/>**<NodeName>**<br/>Especifica el nombre del host.<br/>**<RRtype>**<br/>Especifica el tipo de registro de recursos que se va a eliminar.<br/>**<Rrdata>**<br/>Especifica el tipo de datos que se espera.<br/>**/f**<br/>ejecuta el comando sin solicitar confirmación:<br/>-Dado que los nodos pueden tener más de un registro de recursos, este comando requiere que sea muy específico sobre el tipo de registro de recursos que desea eliminar.<br/>-Si especifica un tipo de datos y no especifica un tipo de datos de registro de recursos, se eliminan todos los registros con ese tipo de datos específico para el nodo especificado.<br/># # # # Uso de ejemplo<br/><code>dnscmd /recorddelete test.contoso.com test MX 10 mailserver.test.contoso.com</code><br/>### <a name="BKMK_16"></a>DNSCmd/resetforwarders<br/>Selecciona o restablece las direcciones IP a las que el servidor DNS reenvía las consultas DNS cuando no puede resolverlas de forma local.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /resetforwarders [&lt;IPaddress&gt; [,&lt;IPaddress&gt;]...][/timeout &lt;timeOut&gt;] [/slave|/noslave]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<IPaddress>**<br/>muestra las direcciones IP a las que el servidor DNS reenvía las consultas no resueltas.<br/>**/timeout <timeOut>**<br/>Establece el número de segundos que el servidor DNS espera una respuesta del reenviador. De forma predeterminada, este valor es de cinco segundos.<br/>**/Slave |/NoSlave**<br/>Determina si el servidor DNS realiza sus propias consultas iterativas si el reenviador no puede resolver una consulta:<br/>**/Slave**<br/>Impide que el servidor DNS realice sus propias consultas iterativas si el reenviador no puede resolver una consulta.<br/>**/noslave**<br/>Permite que el servidor DNS realice sus propias consultas iterativas si el reenviador no puede resolver una consulta. Esta es la configuración predeterminada.<br/># # # # Comentarios<br/>: De forma predeterminada, un servidor DNS realiza consultas iterativas cuando no puede resolver una consulta.<br/>-La configuración de direcciones IP mediante el comando **resetforwarders** hace que el servidor DNS realice consultas recursivas en los servidores DNS de las direcciones IP especificadas. Si los reenviadores no resuelven la consulta, el servidor DNS puede realizar sus propias consultas iterativas.<br/>-Si se usa el parámetro **/Slave** , el servidor DNS no realiza sus propias consultas iterativas. Esto significa que el servidor DNS reenvía las consultas no resueltas solo a los servidores DNS de la lista y no intenta consultas iterativas si los reenviadores no las resuelven. Es más eficaz establecer una dirección IP como reenviador para un servidor DNS. Puede usar el comando **resetforwarders** para los servidores internos de una red para reenviar sus consultas sin resolver a un servidor DNS que tenga una conexión externa.<br/>-la enumeración de una dirección IP de reenviador dos veces hace que el servidor DNS intente reenviarse al servidor dos veces.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /resetforwarders 10.0.0.1 /timeout 7 /slave  
dnscmd dnssvr1.contoso.com /resetforwarders /noslave</pre><br/>### <a name="BKMK_17"></a>DNSCmd/resetlistenaddresses<br/>Especifica las direcciones IP de un servidor que escucha las solicitudes de cliente DNS.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /resetlistenaddresses [&lt;listenaddress&gt;]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<listenaddress>**<br/>Especifica una dirección IP en el servidor DNS que escucha las solicitudes de cliente DNS. Si no se especifica ninguna dirección de escucha, todas las direcciones IP del servidor escuchan las solicitudes de cliente.<br/># # # # Comentarios<br/>: De forma predeterminada, todas las direcciones IP de un servidor DNS escuchan las solicitudes DNS del cliente.<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /resetlistenaddresses 10.0.0.1</code><br/>### <a name="BKMK_18"></a>DNSCmd/startscavenging<br/>Indica a un servidor DNS que intente realizar una búsqueda inmediata de registros de recursos obsoletos en un servidor DNS especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /startscavenging</code><br/># # # # (Parámetro)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/># # # # Comentarios<br/>-La finalización correcta de este comando inicia una eliminación de registros obsoletos inmediatamente.<br/>-Aunque el comando para iniciar la eliminación de registros obsoletos parece completarse correctamente, la eliminación de registros obsoletos no se inicia a menos que se cumplan las siguientes condiciones previas:<br/>    -La eliminación de registros obsoletos está habilitada tanto para el servidor como para la zona.<br/>    -La zona se ha iniciado.<br/>    -Los registros de recursos tienen una marca de tiempo.<br/>-para obtener información sobre cómo habilitar la eliminación de registros obsoletos para el servidor, vea el parámetro **scavenginginterval** en sintaxis de nivel de servidor en la sección de <a href="#BKMK_3" data-raw-source="[config](#BKMK_3)">configuración</a> .<br/>-para obtener información sobre cómo habilitar la eliminación de registros obsoletos de la zona, vea el parámetro **Aging** en sintaxis de nivel de zona en la sección de <a href="#BKMK_3" data-raw-source="[config](#BKMK_3)">configuración</a> .<br/>-para obtener información sobre cómo iniciar una zona que está en pausa, consulte la sección <a href="#BKMK_35" data-raw-source="[zoneresume](#BKMK_35)">zoneresume</a> .<br/>-para obtener información sobre cómo comprobar los registros de recursos para una marca de tiempo, consulte la sección <a href="#BKMK_1" data-raw-source="[ageallrecords](#BKMK_1)">ageallrecords</a> .<br/>-Si se produce un error en la eliminación de registros obsoletos, no aparece ningún mensaje de advertencia.<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /startscavenging</code><br/>### <a name="BKMK_19"></a>DNSCmd/Statistics<br/>Muestra o borra los datos de un servidor DNS especificado.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /statistics [&lt;StatID&gt;] [/clear]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<StatID>**<br/>Especifica la estadística o combinación de estadísticas que se va a mostrar. Se usa un número de identificación para identificar una estadística. Si no se especifica ningún número de identificación de estadística, se mostrarán todas las estadísticas.<br/>La siguiente es una lista de números que se pueden especificar y la estadística correspondiente que muestra:<br/>**00000001**<br/>time<br/>**00000002**<br/>query<br/>**00000004**<br/>consulta 2<br/>**00000008**<br/>Recurse<br/>**00000010**<br/>Maestro<br/>**00000020**<br/>Secundario<br/>**00000040**<br/>WINS<br/>**00000100**<br/>Actualización<br/>**00000200**<br/>SkwanSec<br/>**00000400**<br/>directorio<br/>**00010000**<br/>Memoria<br/>**00100000**<br/>PacketMem<br/>**00040000**<br/>DBase<br/>**00080000**<br/>informes<br/>**00200000**<br/>NbstatMem<br/>**/Clear**<br/>restablece el contador de estadísticas especificado en cero.<br/># # # # Comentarios<br/>-El comando **Statistics** muestra los contadores que comienzan en el servidor DNS cuando se inicia o se reanuda.<br/># # # # (Ejemplos)<br/>Consulte @no__t 0Example 7: Mostrar estadísticas de tiempo para un servidor DNS @ no__t-0 o <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 8: Display NbstatMem statistics for a DNS server](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">Example 8: Mostrar estadísticas de NbstatMem para un servidor DNS @ no__t-0.<br/>### <a name="BKMK_20"></a>DNSCmd/unenlistdirectorypartition<br/>quita el servidor DNS del conjunto de réplicas&#39;de la partición de directorio especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /unenlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<PartitionFQDN>**<br/>El FQDN de la partición de directorio de aplicaciones DNS que se va a quitar.<br/>### <a name="BKMK_21"></a>DNSCmd/writebackfiles<br/>Comprueba si hay cambios en la memoria del servidor DNS y los escribe en el almacenamiento persistente.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /writebackfiles [&lt;ZoneName&gt;]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a actualizar.<br/># # # # Comentarios<br/>-El comando **writebackfiles** actualiza todas las zonas desfasadas o una zona especificada. Una zona se modifica cuando hay cambios en la memoria que todavía no se han escrito en el almacenamiento persistente. Se trata de una operación de nivel de servidor que comprueba todas las zonas. Puede especificar una zona en esta operación o puede usar la operación <a href="#BKMK_37" data-raw-source="[zonewriteback](#BKMK_37)">zonewriteback</a> .<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /writebackfiles</code><br/>### <a name="BKMK_22"></a>DNSCmd/zoneadd<br/>agrega una zona al servidor DNS.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneadd &lt;ZoneName&gt; &lt;Zonetype&gt; [/dp &lt;FQDN&gt;| {/domain|/enterprise|/legacy}]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona.<br/>**<Zonetype>**<br/>Especifica el tipo de zona que se va a crear. Cada tipo de zona tiene parámetros necesarios diferentes:<br/>**/dsprimary**<br/>crea una zona integrada de Active Directory.<br/>**/Primary/File <FileName>**<br/>crea una zona principal estándar y especifica el nombre del archivo que almacenará la información de la zona.<br/>**/Secondary <MasterIPaddress> [<MasterIPaddress>...]**<br/>crea una zona secundaria estándar.<br/>**/stub <MasterIPaddress> [<MasterIPaddress>...]/File <FileName>**<br/>crea una zona de rutas internas con copia de seguridad de archivos.<br/>**/DsStub <MasterIPaddress> [<MasterIPaddress>...]**<br/>crea una zona de rutas internas integrada de Active Directory.<br/>**/Forwarder <MasterIPaddress> [<MasterIPaddress>].../File <FileName>**<br/>Especifica que la zona creada reenvía las consultas no resueltas a otro servidor DNS.<br/>**/dsforwarder**<br/>Especifica que la zona integrada de Active Directory creada reenvía las consultas no resueltas a otro servidor DNS.<br/>**/DP <FQDN> {/Domain |/Enterprise |/Legacy}**<br/>Especifica la partición de directorio en la que se va a almacenar la zona.<br/>**<FQDN>**<br/>Especifica el FQDN de la partición de directorio.<br/>**/Domain**<br/>Almacena la zona en la partición de directorio de dominio.<br/>**/enterprise**<br/>Almacena la zona en la partición de directorio de la empresa.<br/>**/legacy**<br/>Almacena la zona en una partición de directorio heredada.<br/># # # # Comentarios<br/>-Si se especifica un tipo de zona de **/Forwarder** o **/dsforwarder** , se crea una zona que realiza el reenvío condicional.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /zoneadd test.contoso.com /dsprimary  
dnscmd dnssvr1.contoso.com /zoneadd secondtest.contoso.com /secondary 10.0.0.2</pre><br/>### <a name="BKMK_23"></a>DNSCmd/zonechangedirectorypartition<br/>cambia la partición de directorio en la que reside la zona especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zonechangedirectorypartition &lt;ZoneName&gt;] {[&lt;NewPartitionName&gt;] | [&lt;Zonetype&gt;] }</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>El FQDN de la partición de directorio actual en la que reside la zona.<br/>**<NewPartitionName>**<br/>El FQDN de la partición de directorio a la que se va a desplace la zona.<br/>**<Zonetype>**<br/>Especifica el tipo de partición de directorio al que se va a desplace la zona.<br/>**/Domain**<br/>mueve la zona a la partición de directorio de dominio integrada.<br/>**/Forest**<br/>mueve la zona a la partición de directorio de bosque integrada.<br/>**/legacy**<br/>mueve la zona a la partición de directorio que se crea para los controladores de dominio anteriores a Active Directory. Estas particiones de directorio no son necesarias para el modo nativo.<br/>### <a name="BKMK_24"></a>DNSCmd/zonedelete<br/>elimina una zona especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zonedelete &lt;ZoneName&gt; [/dsdel] [/f]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a eliminar.<br/>**/dsdel**<br/>elimina la zona de AD DS.<br/>**/f**<br/>Ejecuta el comando sin solicitar confirmación.<br/># # # # (Ejemplo)<br/>Vea <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 9: delete a zone from a DNS server](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">el ejemplo 9: eliminar una zona de un servidor DNS</a>.<br/>### <a name="BKMK_25"></a>DNSCmd/zoneexport<br/>crea un archivo de texto que enumera los registros de recursos de una zona especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneexport &lt;ZoneName&gt; &lt;ZoneExportFile&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona.<br/>**<ZoneExportFile>**<br/>Especifica el nombre del archivo que se va a crear.<br/># # # # Comentarios<br/>-La operación **zoneexport** crea un archivo de registros de recursos para una zona integrada de Active Directory con el fin de solucionar problemas. De forma predeterminada, el archivo que crea este comando se coloca en el directorio DNS, que es, de forma predeterminada, el directorio% SystemRoot%/System32/Dns<br/># # # # (Ejemplo)<br/>Consulte @no__t 0Example 10: Exportar lista de registros de recursos de zona a un archivo @ no__t-0.<br/>### <a name="BKMK_26"></a>DNSCmd/zoneinfo<br/>Muestra la configuración de la sección del registro de la zona especificada: **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters\Zones @ no__t-1ZoneName >**<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneinfo &lt;ZoneName&gt;  [&lt;Setting&gt;]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona.<br/>**<Setting>**<br/>Puede especificar individualmente cualquier valor que devuelva el comando **zoneinfo** . Si no especifica un valor, se devolverá toda la configuración.<br/># # # # Comentarios<br/>-El comando **zoneinfo** muestra la configuración del registro que se encuentra en el nivel de zona DNS en **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters\Zones @ no__t-2ZoneName >** .<br/>-Para mostrar la configuración del registro en el nivel de servidor, use el comando <a href="#BKMK_12" data-raw-source="[info](#BKMK_12)">info</a> .<br/>-Para ver una lista de los valores de configuración que se pueden mostrar con este comando, consulte el comando <a href="#BKMK_3" data-raw-source="[config](#BKMK_3)">config</a> .<br/># # # # (Ejemplo)<br/>Consulte @no__t 0Example 11: Muestre la configuración RefreshInterval del registro @ no__t-0 o <a href="https://technet.microsoft.com/library/cc784399(v=ws.10).aspx" data-raw-source="[Example 12: Display Aging setting from the registry](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)">Example 12: Muestre la configuración de caducidad del registro @ no__t-0.<br/>### <a name="BKMK_27"></a>DNSCmd/zonepause<br/>pausa la zona especificada, que luego omite las solicitudes de consulta.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zonepause &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a pausar.<br/># # # # Comentarios<br/>-Para reanudar una zona y ponerla a disposición una vez que se haya pausado, use el comando <a href="#BKMK_35" data-raw-source="[zoneresume](#BKMK_35)">zoneresume</a> .<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zonepause test.contoso.com</code><br/>### <a name="BKMK_28"></a>DNSCmd/zoneprint<br/>enumera los registros de una zona.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneprint &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Identifica la zona que se va a mostrar.<br/>### <a name="BKMK_30"></a>DNSCmd/zonerefresh<br/>fuerza la actualización de una zona DNS secundaria desde la zona maestra.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zonerefresh &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a actualizar.<br/># # # # Comentarios<br/>-El comando **zonerefresh** fuerza una comprobación del número de versión en el registro de recursos de inicio de autoridad (SOA) del servidor maestro. Si el número de versión del servidor maestro es mayor que el número de&#39;versión del servidor secundario, se inicia una transferencia de zona que actualiza el servidor secundario. Si el número de versión es el mismo, no se produce ninguna transferencia de zona.<br/>-La comprobación forzada se produce de forma predeterminada cada 15 minutos. Para cambiar el valor predeterminado, use el comando **DNSCmd config RefreshInterval** .<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zonerefresh test.contoso.com</code><br/>### <a name="BKMK_31"></a>DNSCmd/zonereload<br/>Copia la información de la zona desde su origen.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zonereload &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a recargar.<br/># # # # Comentarios<br/>-Si la zona está integrada en Active Directory, se vuelve a cargar desde AD DS.<br/>-Si la zona es una zona con copia de seguridad de archivos estándar, se vuelve a cargar desde un archivo.<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zonereload test.contoso.com</code><br/>### <a name="BKMK_32"></a>DNSCmd/zoneresetmasters<br/>restablece las direcciones IP del servidor maestro que proporciona información de transferencia de zona a una zona secundaria.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zoneresetmasters &lt;ZoneName&gt; [/local] [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a recargar.<br/>**/local**<br/>Establece una lista maestra local. Este parámetro se usa para las zonas integradas de Active Directory.<br/>**<IPaddress>**<br/>Las direcciones IP de los servidores maestros de la zona secundaria.<br/># # # # Comentarios<br/>: Este valor se establece originalmente cuando se crea la zona secundaria. Use el comando **zoneresetmasters** en el servidor secundario. Este valor no tiene ningún efecto si se establece en el servidor DNS maestro.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com 10.0.0.1  
dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com /local</pre><br/>### <a name="BKMK_33"></a>DNSCmd/zoneresetscavengeservers<br/>cambia las direcciones IP de los servidores que pueden borrar la zona especificada.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetscavengeservers &lt;ZoneName&gt; [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Identifica la zona que se va a borrar.<br/>**<IPaddress>**<br/>muestra las direcciones IP de los servidores que pueden realizar la eliminación de registros obsoletos. Si se omite este parámetro, todos los servidores que hospedan esta zona podrán borrarlo.<br/># # # # Comentarios<br/>: De forma predeterminada, todos los servidores que hospedan una zona pueden borrar dicha zona.<br/>-Si una zona se hospeda en más de un servidor DNS, puede usar este comando para reducir el número de veces que se ha eliminado una zona.<br/>-La eliminación de registros obsoletos debe estar habilitada en el servidor DNS y en la zona afectada por este comando.<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zoneresetscavengeservers test.contoso.com 10.0.0.1 10.0.0.2</code><br/>### <a name="BKMK_34"></a>DNSCmd/zoneresetsecondaries<br/>Especifica una lista de direcciones IP de los servidores secundarios a los que responde un servidor maestro cuando se le pide una transferencia de zona.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetsecondaries &lt;ZoneName&gt; {/noxfr | /nonsecure | /securens | /securelist &lt;SecurityIPaddresses&gt;} {/nonotify | /notify | /notifylist &lt;NotifyIPaddresses&gt;}</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite el parámetro is, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona en la que se restablecerán los servidores secundarios.<br/>**/noxfr | /nonsecure | /securens | @no__t/securelist-1**<br/>Especifica si todos o solo algunos de los servidores secundarios que solicitan una actualización obtienen una actualización.<br/>**/noxfr**<br/>Especifica que no se permiten las transferencias de zona.<br/>**/nonsecure**<br/>Especifica que se concedan todas las solicitudes de transferencia de zona.<br/>**/securens**<br/>Especifica que solo se conceda una transferencia al servidor que aparece en el registro de recursos de servidor de nombres (NS) para la zona.<br/>**/securelist**<br/>Especifica que las transferencias de zona solo se conceden a la lista de servidores. Este parámetro debe ir seguido de una dirección IP o de las direcciones que usa el servidor maestro.<br/>**<SecurityIPaddresses>**<br/>muestra las direcciones IP que reciben transferencias de zona del servidor maestro. Este parámetro solo se usa con el parámetro **/securelist** .<br/>**/nonotify | /Notify | @no__t/notifylist-1**<br/>Especifica que una notificación de cambio solo se envía a determinados servidores secundarios:<br/>**/nonotify**<br/>Especifica que no se envían notificaciones de cambios a los servidores secundarios.<br/>**/notify**<br/>Especifica que las notificaciones de cambios se envían a todos los servidores secundarios.<br/>**/notifylist**<br/>Especifica que las notificaciones de cambio solo se envían a la lista de servidores. Este comando debe ir seguido de una dirección IP o de las direcciones que usa el servidor maestro.<br/>**<NotifyIPaddresses>**<br/>Especifica la dirección o direcciones IP del servidor secundario o los servidores a los que se envían las notificaciones de cambios. Esta lista solo se usa con el parámetro **/notifylist** .<br/># # # # Comentarios<br/>-Use el comando **zoneresetsecondaries** en el servidor maestro para especificar cómo responde a las solicitudes de transferencia de zona desde los servidores secundarios.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /noxfr /nonotify  
dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /securelist 11.0.0.2</pre><br/>### <a name="BKMK_29"></a>DNSCmd/zoneresettype<br/>cambia el tipo de la zona.<br/># # # # Syntax<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresettype &lt;ZoneName&gt; &lt;Zonetype&gt; [/overwrite_mem | /overwrite_ds]</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la sintaxis del equipo local, la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Identifica la zona en la que se cambiará el tipo.<br/>**<Zonetype>**<br/>Especifica el tipo de zona que se va a crear. Cada tipo tiene parámetros necesarios diferentes:<br/>**/dsprimary**<br/>crea una zona integrada de Active Directory.<br/>**/Primary/File <FileName>**<br/>crea una zona principal estándar.<br/>**/Secondary <MasterIPaddress> [, <MasterIPaddress>...]**<br/>crea una zona secundaria estándar.<br/>**/stub <MasterIPaddress> [, <MasterIPaddress>...]/File <FileName>**<br/>crea una zona de rutas internas con copia de seguridad de archivos.<br/>**/DsStub <MasterIPaddress> [, <MasterIPaddress>...]**<br/>crea una zona de rutas internas integrada de Active Directory.<br/>**/Forwarder &lt;MasterIPaddress [, <MasterIPaddress>].../File @ no__t-3**<br/>Especifica que la zona creada reenvía las consultas no resueltas a otro servidor DNS.<br/>**/dsforwarder**<br/>Especifica que la zona integrada de Active Directory creada reenvía las consultas no resueltas a otro servidor DNS.<br/>**/overwrite_mem | /overwrite_ds**<br/>Especifica cómo sobrescribir los datos existentes:<br/>**/overwrite_mem**<br/>Sobrescribe los datos DNS de los datos en AD DS.<br/>**/overwrite_ds**<br/>Sobrescribe los datos existentes en AD DS.<br/># # # # Comentarios<br/>-Si se establece el tipo de zona como **/dsforwarder** , se crea una zona que realiza el reenvío condicional.<br/># # # # Uso de ejemplo<br/><pre>dnscmd dnssvr1.contoso.com /zoneresettype test.contoso.com /primary /file test.contoso.com.dns  
dnscmd dnssvr1.contoso.com /zoneresettype second.contoso.com /secondary 10.0.0.2</pre><br/>### <a name="BKMK_35"></a>DNSCmd/zoneresume<br/>inicia una zona especificada que se pausó previamente.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zoneresume &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a reanudar.<br/># # # # Comentarios<br/>-Puede usar esta operación para invertir la operación <a href="#BKMK_27" data-raw-source="[zonepause](#BKMK_27)">zonepause</a> .<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zoneresume test.contoso.com</code><br/>### <a name="BKMK_36"></a>DNSCmd/zoneupdatefromds<br/>Actualiza la zona integrada de Active Directory especificada desde AD DS.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zoneupdatefromds &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a actualizar.<br/># # # # Comentarios<br/>-las zonas integradas de Active Directory realizan esta actualización de forma predeterminada cada cinco minutos. Para cambiar este parámetro, use el comando **DNSCmd config dspollinginterval**<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zoneupdatefromds</code><br/>### <a name="BKMK_37"></a>DNSCmd/zonewriteback<br/>Comprueba la memoria del servidor DNS en busca de cambios relevantes para una zona especificada y los escribe en el almacenamiento persistente.<br/># # # # Syntax<br/><code>dnscmd &lt;ServerName&gt; /zonewriteback &lt;ZoneName&gt;</code><br/># # # # (Parámetros)<br/>**<ServerName>**<br/>Especifica el servidor DNS que se va a administrar, representado por la dirección IP, el FQDN o el nombre de host. Si se omite este parámetro, se utiliza el servidor local.<br/>**<ZoneName>**<br/>Especifica el nombre de la zona que se va a actualizar.<br/># # # # Comentarios<br/>: Se trata de una operación de nivel de zona. Puede actualizar todas las zonas de un servidor DNS con la operación <a href="#BKMK_21" data-raw-source="[writebackfiles](#BKMK_21)">writebackfiles</a> .<br/># # # # Uso de ejemplo<br/><code>dnscmd dnssvr1.contoso.com /zonewriteback test.contoso.com</code>  
